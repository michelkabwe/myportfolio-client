{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import styles from\"../styles/Projects.module.css\";import{useCategoriesContext}from\"../hooks/usePostListContext\";import LiInLogo from\"../assets/LI-In-Bug.png\";import GitHLogo from\"../assets/github-mark.png\";import he from\"he\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Projects=()=>{const[activeCategory,setActiveCategory]=useState(\"About\");// Store the active category\nconst scrollableRef=useRef(null);const posts=useCategoriesContext();const pdfUrl=\"https://kabwedev.files.wordpress.com/2023/08/michel-kabwe-cv-.pdf\";/* Find specific categories */const aboutCategory=posts.filter(post=>{return post.category_id==='about';});const projectCategory=posts.filter(post=>{return post.category_id==='project';});const handleScroll=()=>{const sectionIdsToMonitor=[\"about\",\"project\"];sectionIdsToMonitor.forEach(sectionId=>{const element=document.getElementById(sectionId);if(element){const rect=element.getBoundingClientRect();const top=rect.top;const bottom=rect.bottom;const threshold=600;if(top<=threshold&&bottom>=threshold){setActiveCategory(sectionId);}}});};useEffect(()=>{window.addEventListener(\"scroll\",handleScroll);return()=>{window.removeEventListener(\"scroll\",handleScroll);};},[]);const scrollToSection=sectionId=>{setActiveCategory(sectionId);const element=document.getElementById(sectionId);if(element){element.scrollIntoView({behavior:\"smooth\"});}};return/*#__PURE__*/_jsx(\"div\",{className:styles.portfolio_wrapper,onScroll:()=>handleScroll(),children:/*#__PURE__*/_jsxs(\"div\",{className:styles.portfolio_col_wrapper,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.portfolio_col_one,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.col_one_content,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.menu_wrapper,children:[/*#__PURE__*/_jsx(\"h5\",{className:\"\".concat(styles.menu_p,\" \").concat(activeCategory===\"about\"?styles.active:\"\"),onClick:()=>scrollToSection(\"About\"),children:\"About\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"\".concat(styles.menu_p,\" \").concat(activeCategory===\"project\"?styles.active:\"\"),onClick:()=>scrollToSection(\"Project\"),children:\"My projects\"})]}),/*#__PURE__*/_jsx(\"img\",{src:LiInLogo,alt:\"Linkedin Logo\",className:styles.social_logos}),/*#__PURE__*/_jsx(\"img\",{src:GitHLogo,alt:\"Github Logo\",className:styles.social_logos})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.portfolio_col_two,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.col_two_grid,style:{marginTop:\"2rem\",width:\"100%\",display:\"flex\",flexDirection:\"column\"},onScroll:()=>handleScroll(),ref:scrollableRef,children:[/*#__PURE__*/_jsx(\"div\",{id:\"About\",ref:scrollableRef,children:/*#__PURE__*/_jsx(\"div\",{className:styles.card_container,children:aboutCategory.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{className:styles.card_col_wrapper,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.card_col_right,children:[/*#__PURE__*/_jsx(\"h5\",{className:styles.card_title,children:he.decode(item.title.replace(/–/g,\"-\"))}),/*#__PURE__*/_jsx(\"div\",{className:styles.text_wrapper,children:/*#__PURE__*/_jsx(\"p\",{className:styles.p_about,children:item.content.replace(/<\\/?p>/g,\"\")})})]})},index))})}),/*#__PURE__*/_jsx(\"div\",{id:\"Project\",className:\"project\",ref:scrollableRef,children:/*#__PURE__*/_jsx(\"div\",{className:styles.card_container,children:projectCategory.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.card_col_wrapper,children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.card_img_wrapper,\" \").concat(item.post_img?\"\":styles.img_wrapper_noBorder),children:item.post_img&&/*#__PURE__*/_jsx(\"img\",{src:item.post_img,alt:\"Featured\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.card_col_right,children:[/*#__PURE__*/_jsx(\"h5\",{className:styles.card_title,children:he.decode(item.title.replace(/–/g,\"-\"))}),/*#__PURE__*/_jsx(\"div\",{className:styles.text_wrapper,children:/*#__PURE__*/_jsx(\"p\",{className:styles.card_p,children:item.content.replace(/<\\/?p>/g,\"\")})})]})]},index))})}),/*#__PURE__*/_jsx(\"h5\",{className:styles.view_full_resume,children:/*#__PURE__*/_jsx(\"a\",{href:pdfUrl,target:\"_blank\",rel:\"noopener noreferrer\",children:\"VIEW FULL RESUM\\xC9\"})})]})})]})});};export default Projects;","map":{"version":3,"names":["React","useState","useEffect","useRef","styles","useCategoriesContext","LiInLogo","GitHLogo","he","jsx","_jsx","jsxs","_jsxs","Projects","activeCategory","setActiveCategory","scrollableRef","posts","pdfUrl","aboutCategory","filter","post","category_id","projectCategory","handleScroll","sectionIdsToMonitor","forEach","sectionId","element","document","getElementById","rect","getBoundingClientRect","top","bottom","threshold","window","addEventListener","removeEventListener","scrollToSection","scrollIntoView","behavior","className","portfolio_wrapper","onScroll","children","portfolio_col_wrapper","portfolio_col_one","col_one_content","menu_wrapper","concat","menu_p","active","onClick","src","alt","social_logos","portfolio_col_two","col_two_grid","style","marginTop","width","display","flexDirection","ref","id","card_container","map","item","index","card_col_wrapper","card_col_right","card_title","decode","title","replace","text_wrapper","p_about","content","card_img_wrapper","post_img","img_wrapper_noBorder","card_p","view_full_resume","href","target","rel"],"sources":["/Users/Michelka/Documents/portfolio/frontend/src/pages/Projects.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport styles from \"../styles/Projects.module.css\";\nimport { useCategoriesContext } from \"../hooks/usePostListContext\";\nimport LiInLogo from \"../assets/LI-In-Bug.png\";\nimport GitHLogo from \"../assets/github-mark.png\";\nimport he from \"he\";\n\n\nconst Projects: React.FC = () => {\n  const [activeCategory, setActiveCategory] = useState(\"About\"); // Store the active category\n  const scrollableRef = useRef(null);\n\n  const posts = useCategoriesContext();\n\n  const pdfUrl =\n    \"https://kabwedev.files.wordpress.com/2023/08/michel-kabwe-cv-.pdf\";\n\n  /* Find specific categories */\n  const aboutCategory = posts.filter((post) => {\n    return post.category_id === 'about'\n  });\n\n\n  const projectCategory = posts.filter((post) => {\n    return post.category_id === 'project'\n  });\n\n\n  const handleScroll = () => {\n    const sectionIdsToMonitor = [\"about\", \"project\"];\n\n    sectionIdsToMonitor.forEach((sectionId) => {\n      const element = document.getElementById(sectionId);\n      if (element) {\n        const rect = element.getBoundingClientRect();\n        const top = rect.top;\n        const bottom = rect.bottom;\n\n        const threshold = 600;\n\n        if (top <= threshold && bottom >= threshold) {\n          setActiveCategory(sectionId);\n        }\n      }\n    });\n\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  const scrollToSection = (sectionId: string) => {\n    setActiveCategory(sectionId);\n    const element = document.getElementById(sectionId);\n    if (element) {\n      element.scrollIntoView({ behavior: \"smooth\" });\n    }\n  };\n\n  return (\n    <div className={styles.portfolio_wrapper}\n      onScroll={() => handleScroll()}>\n      <div className={styles.portfolio_col_wrapper}>\n        <div className={styles.portfolio_col_one}>\n          <div className={styles.col_one_content}>\n\n            <div className={styles.menu_wrapper}>\n              <h5\n                className={`${styles.menu_p} ${activeCategory === \"about\" ? styles.active : \"\"\n                  }`}\n                onClick={() => scrollToSection(\"About\")}\n              >\n                About\n              </h5>\n              <h5\n                className={`${styles.menu_p} ${activeCategory === \"project\" ? styles.active : \"\"\n                  }`}\n                onClick={() => scrollToSection(\"Project\")}\n              >\n                My projects\n              </h5>\n            </div>\n            <img\n              src={LiInLogo}\n              alt=\"Linkedin Logo\"\n              className={styles.social_logos}\n            />\n            <img\n              src={GitHLogo}\n              alt=\"Github Logo\"\n              className={styles.social_logos}\n            />\n          </div>\n        </div>\n        <div className={styles.portfolio_col_two}>\n          <div\n            className={styles.col_two_grid}\n            style={{\n              marginTop: \"2rem\",\n              width: \"100%\",\n              display: \"flex\",\n              flexDirection: \"column\",\n            }}\n            onScroll={() => handleScroll()}\n            ref={scrollableRef}>\n\n                  {/* About Text */}\n                <div id=\"About\" ref={scrollableRef}>\n                  <div className={styles.card_container}>\n                    {aboutCategory.map((item, index) => (\n                      <div key={index} className={styles.card_col_wrapper}>\n                        <div className={styles.card_col_right}>\n                          <h5 className={styles.card_title}>\n                            {he.decode(item.title.replace(/–/g, \"-\"))}\n                          </h5>\n                          <div className={styles.text_wrapper}>\n                            <p className={styles.p_about}>\n                              {item.content.replace(/<\\/?p>/g, \"\")}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div id=\"Project\" className=\"project\" ref={scrollableRef}>\n                  <div className={styles.card_container}>\n                    {projectCategory.map((item, index) => (\n                      <div key={index} className={styles.card_col_wrapper}>\n                        <div\n                          className={`${styles.card_img_wrapper} ${item.post_img\n                            ? \"\"\n                            : styles.img_wrapper_noBorder\n                            }`}\n                        >\n                          {item.post_img && (\n                            <img src={item.post_img} alt=\"Featured\" />\n                          )}\n                        </div>\n                        <div className={styles.card_col_right}>\n                          <h5 className={styles.card_title}>\n                            {he.decode(item.title.replace(/–/g, \"-\"))}\n                          </h5>\n                          <div className={styles.text_wrapper}>\n                            <p className={styles.card_p}>\n                              {item.content.replace(/<\\/?p>/g, \"\")}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                <h5 className={styles.view_full_resume}>\n                  <a href={pdfUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                    VIEW FULL RESUMÉ\n                  </a>\n                </h5>\n              </div>\n            </div>\n          </div>\n        </div>\n\n\n  );\n};\n\nexport default Projects;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}