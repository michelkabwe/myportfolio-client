{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchRemotePattern = matchRemotePattern;\nexports.hasMatch = hasMatch;\nvar _micromatch = require(\"next/dist/compiled/micromatch\");\nfunction matchRemotePattern(pattern, url) {\n  if (pattern.protocol !== undefined) {\n    const actualProto = url.protocol.slice(0, -1);\n    if (pattern.protocol !== actualProto) {\n      return false;\n    }\n  }\n  if (pattern.port !== undefined) {\n    if (pattern.port !== url.port) {\n      return false;\n    }\n  }\n  if (pattern.hostname === undefined) {\n    throw new Error(`Pattern should define hostname but found\\n${JSON.stringify(pattern)}`);\n  } else {\n    if (!(0, _micromatch).makeRe(pattern.hostname).test(url.hostname)) {\n      return false;\n    }\n  }\n  var _pathname;\n  if (!(0, _micromatch).makeRe((_pathname = pattern.pathname) != null ? _pathname : '**').test(url.pathname)) {\n    return false;\n  }\n  return true;\n}\nfunction hasMatch(domains, remotePatterns, url) {\n  return domains.some(domain => url.hostname === domain) || remotePatterns.some(p => matchRemotePattern(p, url));\n}","map":{"version":3,"names":["matchRemotePattern","hasMatch","_micromatch","require","pattern","url","protocol","undefined","actualProto","slice","port","hostname","Error","JSON","stringify","makeRe","test","_pathname","pathname","domains","remotePatterns","some","domain","p"],"sources":["../../../../src/shared/lib/match-remote-pattern.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;QAGgBA,kBAAkB,GAAlBA,kBAAkB;QA8BlBC,QAAQ,GAARA,QAAQ;AAhCD,IAAAC,WAA+B,GAAAC,OAAA,CAA/B,+BAA+B;AAE/C,SAASH,kBAAkBA,CAACI,OAAsB,EAAEC,GAAQ,EAAW;EAC5E,IAAID,OAAO,CAACE,QAAQ,KAAKC,SAAS,EAAE;IAClC,MAAMC,WAAW,GAAGH,GAAG,CAACC,QAAQ,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7C,IAAIL,OAAO,CAACE,QAAQ,KAAKE,WAAW,EAAE;MACpC,OAAO,KAAK;;;EAGhB,IAAIJ,OAAO,CAACM,IAAI,KAAKH,SAAS,EAAE;IAC9B,IAAIH,OAAO,CAACM,IAAI,KAAKL,GAAG,CAACK,IAAI,EAAE;MAC7B,OAAO,KAAK;;;EAIhB,IAAIN,OAAO,CAACO,QAAQ,KAAKJ,SAAS,EAAE;IAClC,MAAM,IAAIK,KAAK,CACZ,6CAA4CC,IAAI,CAACC,SAAS,CAACV,OAAO,CAAE,EAAC,CACvE;GACF,MAAM;IACL,IAAI,CAAC,IAAAF,WAAM,EAAkBa,MAAlB,CAACX,OAAO,CAACO,QAAQ,CAAC,CAACK,IAAI,CAACX,GAAG,CAACM,QAAQ,CAAC,EAAE;MAChD,OAAO,KAAK;;;MAIJM,SAAgB;EAA5B,IAAI,CAAC,IAAAf,WAAM,EAA0Ba,MAA1B,CAAC,CAAAE,SAAgB,GAAhBb,OAAO,CAACc,QAAQ,YAAhBD,SAAgB,GAAI,IAAI,CAAC,CAACD,IAAI,CAACX,GAAG,CAACa,QAAQ,CAAC,EAAE;IACxD,OAAO,KAAK;;EAGd,OAAO,IAAI;;AAGN,SAASjB,QAAQA,CACtBkB,OAAiB,EACjBC,cAA+B,EAC/Bf,GAAQ,EACC;EACT,OACEc,OAAO,CAACE,IAAI,CAAEC,MAAM,IAAKjB,GAAG,CAACM,QAAQ,KAAKW,MAAM,CAAC,IACjDF,cAAc,CAACC,IAAI,CAAEE,CAAC,IAAKvB,kBAAkB,CAACuB,CAAC,EAAElB,GAAG,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}