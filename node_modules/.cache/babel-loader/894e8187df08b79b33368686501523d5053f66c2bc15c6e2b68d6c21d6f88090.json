{"ast":null,"code":"\"use client\";\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _object_without_properties_loose = require(\"@swc/helpers/lib/_object_without_properties_loose.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nvar _router = require(\"../shared/lib/router/router\");\nvar _formatUrl = require(\"../shared/lib/router/utils/format-url\");\nvar _addLocale = require(\"./add-locale\");\nvar _routerContext = require(\"../shared/lib/router-context\");\nvar _appRouterContext = require(\"../shared/lib/app-router-context\");\nvar _useIntersection = require(\"./use-intersection\");\nvar _getDomainLocale = require(\"./get-domain-locale\");\nvar _addBasePath = require(\"./add-base-path\");\nconst prefetched = new Set();\nfunction prefetch(router, href, as, options) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n  if (!(0, _router).isLocalURL(href)) {\n    return;\n  }\n  // We should only dedupe requests when experimental.optimisticClientCache is\n  // disabled.\n  if (!options.bypassPrefetchedCheck) {\n    const locale =\n    // Let the link's locale prop override the default router locale.\n    typeof options.locale !== 'undefined' ? options.locale : 'locale' in router ? router.locale : undefined;\n    const prefetchedKey = href + '%' + as + '%' + locale;\n    // If we've already fetched the key, then don't prefetch it again!\n    if (prefetched.has(prefetchedKey)) {\n      return;\n    }\n    // Mark this URL as prefetched.\n    prefetched.add(prefetchedKey);\n  }\n  // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n  Promise.resolve(router.prefetch(href, as, options)).catch(err => {\n    if (process.env.NODE_ENV !== 'production') {\n      // rethrow to show invalid URL errors\n      throw err;\n    }\n  });\n}\nfunction isModifiedEvent(event) {\n  const {\n    target\n  } = event.currentTarget;\n  return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || event.nativeEvent && event.nativeEvent.which === 2;\n}\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale, isAppRouter, prefetchEnabled) {\n  const {\n    nodeName\n  } = e.currentTarget;\n  // anchors inside an svg have a lowercase nodeName\n  const isAnchorNodeName = nodeName.toUpperCase() === 'A';\n  if (isAnchorNodeName && (isModifiedEvent(e) || !(0, _router).isLocalURL(href))) {\n    // ignore click for browserâ€™s default behavior\n    return;\n  }\n  e.preventDefault();\n  const navigate = () => {\n    // If the router is an NextRouter instance it will have `beforePopState`\n    if ('beforePopState' in router) {\n      router[replace ? 'replace' : 'push'](href, as, {\n        shallow,\n        locale,\n        scroll\n      });\n    } else {\n      router[replace ? 'replace' : 'push'](as || href, {\n        forceOptimisticNavigation: !prefetchEnabled\n      });\n    }\n  };\n  if (isAppRouter) {\n    // @ts-expect-error startTransition exists.\n    _react.default.startTransition(navigate);\n  } else {\n    navigate();\n  }\n}\nfunction formatStringOrUrl(urlObjOrString) {\n  if (typeof urlObjOrString === 'string') {\n    return urlObjOrString;\n  }\n  return (0, _formatUrl).formatUrl(urlObjOrString);\n}\n/**\n * React Component that enables client-side transitions between routes.\n */\nconst Link = /*#__PURE__*/_react.default.forwardRef(function LinkComponent(props, forwardedRef) {\n  if (process.env.NODE_ENV !== 'production') {\n    function createPropError(args) {\n      return new Error(`Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` + (typeof window !== 'undefined' ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n    }\n    // TypeScript trick for type-guarding:\n    const requiredPropsGuard = {\n      href: true\n    };\n    const requiredProps = Object.keys(requiredPropsGuard);\n    requiredProps.forEach(key => {\n      if (key === 'href') {\n        if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key]\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _ = key;\n      }\n    });\n    // TypeScript trick for type-guarding:\n    const optionalPropsGuard = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      locale: true,\n      onClick: true,\n      onMouseEnter: true,\n      onTouchStart: true,\n      legacyBehavior: true\n    };\n    const optionalProps = Object.keys(optionalPropsGuard);\n    optionalProps.forEach(key => {\n      const valType = typeof props[key];\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: valType\n          });\n        }\n      } else if (key === 'locale') {\n        if (props[key] && valType !== 'string') {\n          throw createPropError({\n            key,\n            expected: '`string`',\n            actual: valType\n          });\n        }\n      } else if (key === 'onClick' || key === 'onMouseEnter' || key === 'onTouchStart') {\n        if (props[key] && valType !== 'function') {\n          throw createPropError({\n            key,\n            expected: '`function`',\n            actual: valType\n          });\n        }\n      } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch' || key === 'legacyBehavior') {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key,\n            expected: '`boolean`',\n            actual: valType\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _ = key;\n      }\n    });\n    // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const hasWarned = _react.default.useRef(false);\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true;\n      console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n    }\n  }\n  let children;\n  const {\n      href: hrefProp,\n      as: asProp,\n      children: childrenProp,\n      prefetch: prefetchProp,\n      passHref,\n      replace,\n      shallow,\n      scroll,\n      locale,\n      onClick,\n      onMouseEnter: onMouseEnterProp,\n      onTouchStart: onTouchStartProp,\n      // @ts-expect-error this is inlined as a literal boolean not a string\n      legacyBehavior = process.env.__NEXT_NEW_LINK_BEHAVIOR === false\n    } = props,\n    restProps = _object_without_properties_loose(props, [\"href\", \"as\", \"children\", \"prefetch\", \"passHref\", \"replace\", \"shallow\", \"scroll\", \"locale\", \"onClick\", \"onMouseEnter\", \"onTouchStart\", \"legacyBehavior\"]);\n  children = childrenProp;\n  if (legacyBehavior && (typeof children === 'string' || typeof children === 'number')) {\n    children = /*#__PURE__*/_react.default.createElement(\"a\", null, children);\n  }\n  const prefetchEnabled = prefetchProp !== false;\n  const pagesRouter = _react.default.useContext(_routerContext.RouterContext);\n  const appRouter = _react.default.useContext(_appRouterContext.AppRouterContext);\n  const router = pagesRouter != null ? pagesRouter : appRouter;\n  // We're in the app directory if there is no pages router.\n  const isAppRouter = !pagesRouter;\n  if (process.env.NODE_ENV !== 'production') {\n    if (isAppRouter && !asProp) {\n      let href;\n      if (typeof hrefProp === 'string') {\n        href = hrefProp;\n      } else if (typeof hrefProp === 'object' && typeof hrefProp.pathname === 'string') {\n        href = hrefProp.pathname;\n      }\n      if (href) {\n        const hasDynamicSegment = href.split('/').some(segment => segment.startsWith('[') && segment.endsWith(']'));\n        if (hasDynamicSegment) {\n          throw new Error(`Dynamic href \\`${href}\\` found in <Link> while using the \\`/app\\` router, this is not supported. Read more: https://nextjs.org/docs/messages/app-dir-dynamic-href`);\n        }\n      }\n    }\n  }\n  const {\n    href,\n    as\n  } = _react.default.useMemo(() => {\n    if (!pagesRouter) {\n      const resolvedHref = formatStringOrUrl(hrefProp);\n      return {\n        href: resolvedHref,\n        as: asProp ? formatStringOrUrl(asProp) : resolvedHref\n      };\n    }\n    const [resolvedHref, resolvedAs] = (0, _router).resolveHref(pagesRouter, hrefProp, true);\n    return {\n      href: resolvedHref,\n      as: asProp ? (0, _router).resolveHref(pagesRouter, asProp) : resolvedAs || resolvedHref\n    };\n  }, [pagesRouter, hrefProp, asProp]);\n  const previousHref = _react.default.useRef(href);\n  const previousAs = _react.default.useRef(as);\n  // This will return the first child, if multiple are provided it will throw an error\n  let child;\n  if (legacyBehavior) {\n    if (process.env.NODE_ENV === 'development') {\n      if (onClick) {\n        console.warn(`\"onClick\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onClick be set on the child of next/link`);\n      }\n      if (onMouseEnterProp) {\n        console.warn(`\"onMouseEnter\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onMouseEnter be set on the child of next/link`);\n      }\n      try {\n        child = _react.default.Children.only(children);\n      } catch (err) {\n        if (!children) {\n          throw new Error(`No children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but one child is required https://nextjs.org/docs/messages/link-no-children`);\n        }\n        throw new Error(`Multiple children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children` + (typeof window !== 'undefined' ? \" \\nOpen your browser's console to view the Component stack trace.\" : ''));\n      }\n    } else {\n      child = _react.default.Children.only(children);\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      var ref;\n      if (((ref = children) == null ? void 0 : ref.type) === 'a') {\n        throw new Error('Invalid <Link> with <a> child. Please remove <a> or use <Link legacyBehavior>.\\nLearn more: https://nextjs.org/docs/messages/invalid-new-link-with-extra-anchor');\n      }\n    }\n  }\n  const childRef = legacyBehavior ? child && typeof child === 'object' && child.ref : forwardedRef;\n  const [setIntersectionRef, isVisible, resetVisible] = (0, _useIntersection).useIntersection({\n    rootMargin: '200px'\n  });\n  const setRef = _react.default.useCallback(el => {\n    // Before the link getting observed, check if visible state need to be reset\n    if (previousAs.current !== as || previousHref.current !== href) {\n      resetVisible();\n      previousAs.current = as;\n      previousHref.current = href;\n    }\n    setIntersectionRef(el);\n    if (childRef) {\n      if (typeof childRef === 'function') childRef(el);else if (typeof childRef === 'object') {\n        childRef.current = el;\n      }\n    }\n  }, [as, childRef, href, resetVisible, setIntersectionRef]);\n  // Prefetch the URL if we haven't already and it's visible.\n  _react.default.useEffect(() => {\n    // in dev, we only prefetch on hover to avoid wasting resources as the prefetch will trigger compiling the page.\n    if (process.env.NODE_ENV !== 'production') {\n      return;\n    }\n    if (!router) {\n      return;\n    }\n    // If we don't need to prefetch the URL, don't do prefetch.\n    if (!isVisible || !prefetchEnabled) {\n      return;\n    }\n    // Prefetch the URL.\n    prefetch(router, href, as, {\n      locale\n    });\n  }, [as, href, isVisible, locale, prefetchEnabled, pagesRouter == null ? void 0 : pagesRouter.locale, router]);\n  const childProps = {\n    ref: setRef,\n    onClick(e) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!e) {\n          throw new Error(`Component rendered inside next/link has to pass click event to \"onClick\" prop.`);\n        }\n      }\n      if (!legacyBehavior && typeof onClick === 'function') {\n        onClick(e);\n      }\n      if (legacyBehavior && child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e);\n      }\n      if (!router) {\n        return;\n      }\n      if (e.defaultPrevented) {\n        return;\n      }\n      linkClicked(e, router, href, as, replace, shallow, scroll, locale, isAppRouter, prefetchEnabled);\n    },\n    onMouseEnter(e) {\n      if (!legacyBehavior && typeof onMouseEnterProp === 'function') {\n        onMouseEnterProp(e);\n      }\n      if (legacyBehavior && child.props && typeof child.props.onMouseEnter === 'function') {\n        child.props.onMouseEnter(e);\n      }\n      if (!router) {\n        return;\n      }\n      if (!prefetchEnabled && isAppRouter) {\n        return;\n      }\n      prefetch(router, href, as, {\n        locale,\n        priority: true,\n        // @see {https://github.com/vercel/next.js/discussions/40268?sort=top#discussioncomment-3572642}\n        bypassPrefetchedCheck: true\n      });\n    },\n    onTouchStart(e) {\n      if (!legacyBehavior && typeof onTouchStartProp === 'function') {\n        onTouchStartProp(e);\n      }\n      if (legacyBehavior && child.props && typeof child.props.onTouchStart === 'function') {\n        child.props.onTouchStart(e);\n      }\n      if (!router) {\n        return;\n      }\n      if (!prefetchEnabled && isAppRouter) {\n        return;\n      }\n      prefetch(router, href, as, {\n        locale,\n        priority: true,\n        // @see {https://github.com/vercel/next.js/discussions/40268?sort=top#discussioncomment-3572642}\n        bypassPrefetchedCheck: true\n      });\n    }\n  };\n  // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n  if (!legacyBehavior || passHref || child.type === 'a' && !('href' in child.props)) {\n    const curLocale = typeof locale !== 'undefined' ? locale : pagesRouter == null ? void 0 : pagesRouter.locale;\n    // we only render domain locales if we are currently on a domain locale\n    // so that locale links are still visitable in development/preview envs\n    const localeDomain = (pagesRouter == null ? void 0 : pagesRouter.isLocaleDomain) && (0, _getDomainLocale).getDomainLocale(as, curLocale, pagesRouter == null ? void 0 : pagesRouter.locales, pagesRouter == null ? void 0 : pagesRouter.domainLocales);\n    childProps.href = localeDomain || (0, _addBasePath).addBasePath((0, _addLocale).addLocale(as, curLocale, pagesRouter == null ? void 0 : pagesRouter.defaultLocale));\n  }\n  return legacyBehavior ? /*#__PURE__*/_react.default.cloneElement(child, childProps) : /*#__PURE__*/_react.default.createElement(\"a\", Object.assign({}, restProps, childProps), children);\n});\nvar _default = Link;\nexports.default = _default;\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"names":["_object_without_properties_loose","require","default","_react","_interop_require_default","_router","_formatUrl","_addLocale","_routerContext","_appRouterContext","_useIntersection","_getDomainLocale","_addBasePath","prefetched","Set","prefetch","router","href","as","options","window","isLocalURL","bypassPrefetchedCheck","locale","undefined","prefetchedKey","has","add","resolve","catch","err","process","env","NODE_ENV","isModifiedEvent","event","target","currentTarget","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","linkClicked","e","replace","shallow","scroll","isAppRouter","prefetchEnabled","nodeName","isAnchorNodeName","toUpperCase","preventDefault","navigate","forceOptimisticNavigation","startTransition","formatStringOrUrl","urlObjOrString","formatUrl","Link","forwardRef","LinkComponent","props","forwardedRef","createPropError","args","Error","key","expected","actual","requiredPropsGuard","requiredProps","Object","keys","forEach","_","optionalPropsGuard","passHref","onClick","onMouseEnter","onTouchStart","legacyBehavior","optionalProps","valType","hasWarned","useRef","current","console","warn","children","hrefProp","asProp","childrenProp","prefetchProp","onMouseEnterProp","onTouchStartProp","__NEXT_NEW_LINK_BEHAVIOR","restProps","createElement","pagesRouter","useContext","RouterContext","appRouter","AppRouterContext","pathname","hasDynamicSegment","split","some","segment","startsWith","endsWith","useMemo","resolvedHref","resolvedAs","resolveHref","previousHref","previousAs","child","Children","only","ref","type","childRef","setIntersectionRef","isVisible","resetVisible","useIntersection","rootMargin","setRef","useCallback","el","useEffect","childProps","defaultPrevented","priority","curLocale","localeDomain","isLocaleDomain","getDomainLocale","locales","domainLocales","addBasePath","addLocale","defaultLocale","cloneElement","assign"],"sources":["../../../src/client/link.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}